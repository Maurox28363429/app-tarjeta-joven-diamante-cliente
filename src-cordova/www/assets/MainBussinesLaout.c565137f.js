import{l as v,au as H,aI as Q,aA as m,Y as C,a4 as e,bs as u,X as T,Z as r,ce as N,W as x,b3 as o,cG as q,b5 as p,bp as V,cH as O,c5 as D,a3 as M,F as R,y,B as j,cI as F,cJ as U,cA as G,cn as A}from"./index.c9db40f1.js";import{Q as J}from"./QImg.d3de0496.js";import{Q as W,a as X,_ as Y,b as Z,c as K,d as ee}from"./acronimo.342571c3.js";import{a as B,Q as h}from"./QItemSection.8eb225fe.js";import{Q as oe}from"./QList.808e5676.js";import{Q as ae}from"./QScrollArea.9c07a36b.js";import{Q as te,a as se,b as re,c as I,d as le,_ as P,e as ne,f as z}from"./date.0af930bb.js";import{C as ie}from"./ClosePopup.0bfdaf5a.js";import{u as ce}from"./userAuth.6580f324.js";import"./QScrollObserver.2ec107bf.js";import"./selection.d56ec9fd.js";import"./format.a33550d6.js";import"./rtl.b51694b1.js";import"./index.360ce4ab.js";import"./axios.f1f32898.js";import"./useToast.b437ce80.js";import"./use-quasar.2432c219.js";const de={key:0,class:"full-width full-height column justify-center items-center"},ue=r("p",{class:"title-medium"},"Activa los permisos para la camara",-1),pe={__name:"QRScanner",setup(S){const a=v(!0);function f(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.permissions&&window.cordova.plugins.permissions.requestPermission(window.cordova.plugins.permissions.CAMERA,function(l){l.hasPermission?(console.log("Permiso de c\xE1mara concedido"),a.value=!0):(console.warn("Permiso de c\xE1mara denegado"),a.value=!1)},function(){console.error("Error al solicitar el permiso de c\xE1mara"),a.value=!1})}H(()=>{f()});const i=l=>{console.log("C\xF3digo QR escaneado:",l)},_=l=>{l.then(()=>{console.log("\xA1Listo para escanear!"),a.value=!0}).catch(t=>{console.error("Error al inicializar el lector de QR:",t),a.value=!1})},c=()=>{console.log("C\xF3digo QR detectado.")},g=l=>{console.error("Error al escanear el c\xF3digo QR:",l)};return(l,t)=>{const b=Q("qrcode-stream");return m(),C("div",null,[e(b,{onDecode:i,onInit:_,onDetect:c,onError:g}),a.value?T("",!0):(m(),C("div",de,[ue,e(u,{class:"cordova-only",color:"primary",label:"Pedir permisos",onClick:t[0]||(t[0]=k=>f())})]))])}}};const me=r("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),fe={class:"q-mini-drawer-hide absolute",style:{top:"15px",right:"-17px","z-index":"20"}},_e={class:"absolute-top",style:{height:"150px"}},he={class:"column items-center absolute-bottom bg-transparent"},ve=r("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),ge={class:"text-weight-bold"},be={style:{"text-overflow":"ellipsis",overflow:"hidden",width:"196px"}},we={class:"q-px-sm q-py-lg"},xe={class:"qrButton"},ye=r("img",{src:ne,style:{width:"24px",height:"24px"}},null,-1),He={__name:"MainBussinesLaout",setup(S){const{user:a}=ce(),f=()=>{console.log("goHome"),_.push("/empresa")},i=v(!1),_=N(),c=v(!1),g=()=>{var s;return((s=a==null?void 0:a.membresia)==null?void 0:s.days)===1},l=()=>{var s;return z((s=a==null?void 0:a.membresia)==null?void 0:s.updated_at)===z(new Date)},t=v(!0),b=()=>{c.value=!c.value},k=s=>{s.preventDefault(),localStorage.removeItem("user"),_.push("/login")},E=()=>{i.value=!0,t.value=!t.value},L=s=>{t.value&&(t.value=!1,s.stopPropagation())};return(s,n)=>{const w=Q("router-link"),$=Q("router-view");return m(),x(ee,{view:"hHh lpR fFf"},{default:o(()=>[e(Z,{class:"q-py-sm text-white",style:{height:"60px",background:"#f8fdff","box-shadow":`0px 1px 2px rgba(0, 0, 0, 0.3),\r
          0px 1px 3px 1px rgba(0, 0, 0, 0.15)`}},{default:o(()=>[e(W,{class:"row items-center"},{default:o(()=>[e(u,{class:"menu",dense:"",flat:"",round:"",icon:"menu",color:"dark",onClick:E}),e(X,{class:"row items-center"},{default:o(()=>[e(J,{src:Y,"spinner-color":"dark",onClick:f,style:{height:"32px","max-width":"74px",cursor:"pointer"}})]),_:1}),e(u,{style:{height:"35px",width:"35px",display:"none"},fill:"",round:"",icon:"shopping_cart",color:"secondary"}),e(w,{to:"/empresa/account",class:"cursor-pointer"},{default:o(()=>[e(q,{size:"42px",class:"q-ml-md"},{default:o(()=>[me]),_:1})]),_:1})]),_:1})]),_:1}),e(te,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=d=>i.value=d),"show-if-above":"",mini:!i.value||t.value,onClickCapture:L,width:214,breakpoint:700,bordered:"",class:j(s.$q.dark.isActive?"bg-grey-9":"bg-grey-3")},{default:o(()=>[r("div",fe,[e(u,{dense:"",round:"",unelevated:"",color:"accent",icon:"chevron_left",onClick:n[0]||(n[0]=d=>t.value=!0)})]),e(ae,{style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:o(()=>[e(oe,{padding:""},{default:o(()=>[p(e(O,{inset:""},null,512),[[V,!t.value]]),p((m(),x(B,{clickable:"",to:"/empresa/account"},{default:o(()=>[e(h,{avatar:""},{default:o(()=>[e(D,{name:"person"})]),_:1}),e(h,null,{default:o(()=>[M("Mi perfil")]),_:1})]),_:1})),[[A]]),p((m(),x(B,{clickable:"",to:"/empresa/orders"},{default:o(()=>[e(h,{avatar:""},{default:o(()=>[e(D,{name:"receipt_long"})]),_:1}),e(h,null,{default:o(()=>[M("Ordenes")]),_:1})]),_:1})),[[A]])]),_:1}),r("div",{onClick:k,class:"row justify-center full-width full-height body-small"},[e(u,{icon:"power_settings_new",label:t.value?"":"Cerrar sesi\xF3n","text-color":"white",class:"body-small",style:{position:"absolute",bottom:"20px","background-color":"#ba1a1a"}},null,8,["label"])])]),_:1}),p(r("div",_e,[r("div",he,[e(q,{size:"56px",class:"q-mb-sm"},{default:o(()=>[ve]),_:1}),r("div",ge," \xA1Hola, "+R(y(a).name+" "+y(a).last_name)+"! ",1),r("div",null,[r("p",be,R(y(a).email),1)])])],512),[[V,!t.value]])]),_:1},8,["modelValue","mini","class"]),e(K,{style:{background:"#f8fdff"}},{default:o(()=>[e($)]),_:1}),e(G,{modelValue:c.value,"onUpdate:modelValue":n[2]||(n[2]=d=>c.value=d),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[e(F,null,{default:o(()=>[e(pe),e(U,{align:"right",class:"text-primary"},{default:o(()=>[p(e(u,{flat:"",label:"Close"},null,512),[[ie]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),r("div",we,[r("div",xe,[e(re,{color:"primary",icon:"keyboard_arrow_up",direction:"up"},{default:o(()=>[e(se,{color:"primary",onClick:b},{default:o(()=>[ye]),_:1})]),_:1})])]),e(le,{modelValue:s.tab,"onUpdate:modelValue":n[3]||(n[3]=d=>s.tab=d),style:{position:"fixed","z-index":"100",bottom:"0",width:"100%","border-radius":"16px 16px 0 0"},dense:"",class:"menuMobile bg-primary text-white justify-center",align:"justify-center","narrow-indicator":""},{default:o(()=>[e(w,{to:"/empresa/account",style:{"text-decoration":"none",color:"#ffff",width:"100%",margin:"none"}},{default:o(()=>[e(I,{name:"cuenta",label:"Cuenta",color:"white",class:"text-capitalize q-px-none",icon:"person"})]),_:1}),e(w,{to:"/empresa/orders",style:{"text-decoration":"none",color:"#ffff",width:"100%",margin:"none"}},{default:o(()=>[e(I,{name:"Ordenes",label:"Ordenes",color:"white",class:"text-capitalize q-px-none",icon:"receipt_long"})]),_:1})]),_:1},8,["modelValue"]),e(P,{showModal:l(),description:"Obten 5 d\xEDas de pueba con el plan free, y recibe ofertas especiales"},null,8,["showModal"]),e(P,{showModal:g(),description:"Renueva el plan, y recibe ofertas especiales"},null,8,["showModal"])]),_:1})}}};export{He as default};
