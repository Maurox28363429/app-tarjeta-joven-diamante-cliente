import{an as h,a3 as m,a4 as d,a5 as e,a6 as l,ad as w,a8 as b,a9 as y,aa as a,Q as E,ab as x,ac as S,k as V}from"./index.639bd1b3.js";import{c as k,a as I,u as q}from"./useValidateForm.c9325e2b.js";import{u as P,g as B}from"./recoveryPasswordStore.44e3c000.js";import{u as R}from"./useToast.aab6b583.js";import"./axios.f1f32898.js";const A="Este campo es requerido",M="Ingrese un email valido",N=k({email:I().email(M).required(A)}),Q={class:"full-width"},C={class:"full-width row justify-center"},U={class:"q-pa-md column items-center full-width",style:{"max-width":"400px"}},$=e("p",{class:"title-large q-mb-xl"},"Recuperar contrase\xF1a",-1),z=["onSubmit"],F=e("p",{class:"title-medium q-mb-xl text-center"}," Por favor ingresa tu email para recibir el c\xF3digo de verificaci\xF3n. ",-1),L={class:"full-width input"},T={class:"label-large"},D={key:0,class:"text-error"},O={__name:"forgotpasswordPage",setup(G){const{triggerPositive:u,triggerWarning:p}=R(),i=h(),g=()=>{console.log("go back"),i.go(-1)},v={email:""},{useForm:o,validatInput:n,validateMessage:t}=q({initialValue:v,schema:N}),_=P(),f=async()=>{try{await B({email:o.value.email}),u("C\xF3digo enviado, podr\xEDa tardar unos minutos en llegar."),_.setEmail(o.value.email),i.push({name:"recoveryPassword"})}catch(c){console.log(c),p("\xA1Up! Ha ocurrido un error, intento nuevamente")}};return(c,s)=>(m(),d("div",Q,[e("div",{onClick:g,class:"full-width q-pl-md q-pt-md"},[l(w,{name:"arrow_back",size:"md",color:"dark",class:"cursor-pointer"})]),e("div",C,[e("div",U,[$,e("form",{onSubmit:b(f,["prevent"]),class:"full-width"},[F,e("div",L,[e("label",T,[y(" Email "),l(E,{"lazy-rules":"",type:"email",outlined:"",modelValue:a(o).email,"onUpdate:modelValue":s[0]||(s[0]=r=>a(o).email=r),placeholder:"Example@gmail.com",onBlur:s[1]||(s[1]=r=>a(n)("email")),onKeypress:s[2]||(s[2]=r=>a(n)("email"))},null,8,["modelValue"])]),a(t).errors.email?(m(),d("p",D,x(a(t).errors.email),1)):S("",!0)]),l(V,{disable:!a(t).isvalid,label:"Enviar",size:"14px",fill:"",height:"48px",color:"primary",class:"full-width q-mb-md",type:"submit"},null,8,["disable"])],40,z)])])]))}};export{O as default};
