import{l as r,V as b,au as B,aA as n,Y as c,Z as l,a4 as e,b3 as a,c5 as N,bR as P,J as v,aG as x,cE as i,cI as g,cH as y,y as k,W as q,F as p,bs as Q,a3 as I,cG as S,b5 as D,cz as L}from"./index.159dbc85.js";import{Q as o}from"./QSkeleton.19a3916d.js";import{Q as C}from"./QImg.957565fb.js";import{C as M}from"./ClosePopup.5ef01e5d.js";import{i as A}from"./index.360ce4ab.js";import"./axios.f1f32898.js";async function E(){return await A.get("/noticias")}const F={class:"promotions"},G=l("p",{class:"title-large"},"Promociones",-1),U={class:"search-box"},z={class:"news-grid"},H={key:0,class:"no-results"},J={class:"news-title line-clamp-2"},R={class:"news-description line-clamp-3"},T={class:"news-title"},W={class:"news-description"},ae={__name:"PromotionsPage",setup(Y){const _=r(!1),h=r([]),m=r(""),u=r({}),f=r(!1),w=b(()=>h.value.filter(s=>s.titulo.toLowerCase().includes(m.value.toLowerCase()))),V=s=>{u.value={...s},_.value=!0};return B(async()=>{try{f.value=!0;const{data:s}=await E();h.value=s.data}catch(s){console.log(s)}finally{f.value=!1}}),(s,d)=>(n(),c("div",F,[G,l("div",U,[e(P,{modelValue:m.value,"onUpdate:modelValue":d[0]||(d[0]=t=>m.value=t),outlined:"",type:"search",label:"Buscar promociones",color:"primary"},{append:a(()=>[e(N,{name:"search"})]),_:1},8,["modelValue"])]),l("div",z,[f.value?(n(),c(v,{key:0},x(20,t=>l("div",{key:t,class:"skeleton-card"},[e(y,{flat:""},{default:a(()=>[e(o,{height:"150px",square:""}),e(i,null,{default:a(()=>[e(o,{type:"text",class:"text-subtitle1"}),e(o,{type:"text",class:"text-subtitle1"}),e(o,{type:"text",class:"text-caption"}),e(o,{type:"text",class:"text-caption"}),e(o,{type:"text",class:"text-caption"})]),_:1}),e(g,{align:"right",class:"q-pt-none"},{default:a(()=>[e(o,{type:"QBtn"})]),_:1})]),_:1})])),64)):(n(),c(v,{key:1},[k(w).length===0?(n(),c("div",H,"No se encontraron resultados")):(n(!0),c(v,{key:1},x(k(w),t=>(n(),q(y,{key:t.id,class:"news-card"},{default:a(()=>[e(C,{src:t.img_url,"spinner-color":"dark",class:"news-image"},null,8,["src"]),e(i,null,{default:a(()=>[l("div",J,p(t.titulo),1)]),_:2},1024),e(i,{class:"q-pt-none"},{default:a(()=>[l("p",R,p(t.descripcion),1)]),_:2},1024),e(g,{align:"right",class:"q-pt-none"},{default:a(()=>[e(Q,{color:"primary",onClick:Z=>V({...t}),flat:""},{default:a(()=>[I("Ver m\xE1s")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))],64))]),e(L,{modelValue:_.value,"onUpdate:modelValue":d[1]||(d[1]=t=>_.value=t)},{default:a(()=>[e(y,{class:"news-card modal-card"},{default:a(()=>[e(C,{src:u.value.img_url,"spinner-color":"dark",class:"news-image"},null,8,["src"]),e(i,null,{default:a(()=>[l("div",T,p(u.value.titulo),1)]),_:1}),e(i,{class:"q-pt-none"},{default:a(()=>[l("div",W,p(u.value.descripcion),1)]),_:1}),e(S),e(g,{align:"right"},{default:a(()=>[D(e(Q,{flat:"",color:"primary",label:"Cerrar"},null,512),[[M]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{ae as default};
