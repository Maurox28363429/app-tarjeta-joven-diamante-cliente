import{bE as N,ah as k,cJ as f,V as S,ae as O,c1 as j,ab as K,cK as U,cL as E,cD as G,aA as b,W as v,b3 as a,a4 as e,bs as m,a3 as C,l as x,cd as J,aI as R,cF as q,Z as n,b5 as h,bp as V,cG as W,c5 as $,F as z,y as Q,B as Z,cH as X,cI as Y,cz as ee,cm as M}from"./index.159dbc85.js";import{Q as ae}from"./QImg.957565fb.js";import{Q as te,a as oe,_ as se,b as ne,c as re,d as le}from"./acronimo.371e17f7.js";import{a as F,Q as g}from"./QItemSection.23f2c9c1.js";import{Q as ie}from"./QList.ce99b7ef.js";import{Q as ce}from"./QScrollArea.469fbe82.js";import{Q as de,a as ue,b as pe,c as B,d as fe,_ as D,e as me,f as H}from"./date.c6e4d85e.js";import{C as he}from"./ClosePopup.5ef01e5d.js";import{u as _e}from"./userAuth.094ba422.js";import"./QScrollObserver.b9b979fa.js";import"./selection.0cc845f6.js";import"./format.a33550d6.js";import"./rtl.b51694b1.js";import"./index.360ce4ab.js";import"./axios.f1f32898.js";import"./useToast.5a10944e.js";import"./use-quasar.053a434a.js";var ge=N({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(i,{slots:o}){const{proxy:{$q:l}}=K(),t=k(U,f);if(t===f)return console.error("QPage needs to be a deep child of QLayout"),f;if(k(E,f)===f)return console.error("QPage needs to be child of QPageContainer"),f;const c=S(()=>{const u=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof i.styleFn=="function"){const r=t.isContainer.value===!0?t.containerHeight.value:l.screen.height;return i.styleFn(u,r)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-u+"px":l.screen.height===0?u!==0?`calc(100vh - ${u}px)`:"100vh":l.screen.height-u+"px"}}),w=S(()=>`q-page${i.padding===!0?" q-layout-padding":""}`);return()=>O("main",{class:w.value,style:c.value},j(o.default))}});const be={methods:{startScan(){typeof window.cordova!="undefined"&&typeof window.QRScanner!="undefined"?window.QRScanner.prepare((i,o)=>{if(i){console.error(i);return}o.authorized?(window.QRScanner.show(),window.QRScanner.scan((l,t)=>{if(l){console.error(l);return}alert("Contenido del c\xF3digo QR: "+t),window.QRScanner.hide()})):o.denied?window.QRScanner.openSettings():console.log("No se pudo obtener el permiso")}):console.log("Cordova o QRScanner no est\xE1n definidos")}}};function ve(i,o,l,t,_,c){return b(),v(ge,{class:"flex flex-center"},{default:a(()=>[e(m,{color:"primary",onClick:c.startScan},{default:a(()=>[C("Iniciar escaneo")]),_:1},8,["onClick"])]),_:1})}var we=G(be,[["render",ve]]);const ye=n("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),xe={class:"q-mini-drawer-hide absolute",style:{top:"15px",right:"-17px","z-index":"20"}},Qe={class:"absolute-top",style:{height:"150px"}},Ce={class:"column items-center absolute-bottom bg-transparent"},ke=n("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),Se={class:"text-weight-bold"},Re={style:{"text-overflow":"ellipsis",overflow:"hidden",width:"196px"}},qe={class:"q-px-sm q-py-lg"},Ve={class:"qrButton"},$e=n("img",{src:me,style:{width:"24px",height:"24px"}},null,-1),Ge={__name:"MainBussinesLaout",setup(i){const{user:o}=_e(),l=()=>{console.log("goHome"),_.push("/empresa")},t=x(!1),_=J(),c=x(!1),w=()=>{var s;return((s=o==null?void 0:o.membresia)==null?void 0:s.days)===1},u=()=>{var s;return H((s=o==null?void 0:o.membresia)==null?void 0:s.updated_at)===H(new Date)},r=x(!0),I=()=>{c.value=!c.value},L=s=>{s.preventDefault(),localStorage.removeItem("user"),_.push("/login")},P=()=>{t.value=!0,r.value=!r.value},A=s=>{r.value&&(r.value=!1,s.stopPropagation())};return(s,d)=>{const y=R("router-link"),T=R("router-view");return b(),v(le,{view:"hHh lpR fFf"},{default:a(()=>[e(ne,{class:"q-py-sm text-white",style:{height:"60px",background:"#f8fdff","box-shadow":`0px 1px 2px rgba(0, 0, 0, 0.3),\r
          0px 1px 3px 1px rgba(0, 0, 0, 0.15)`}},{default:a(()=>[e(te,{class:"row items-center"},{default:a(()=>[e(m,{class:"menu",dense:"",flat:"",round:"",icon:"menu",color:"dark",onClick:P}),e(oe,{class:"row items-center"},{default:a(()=>[e(ae,{src:se,"spinner-color":"dark",onClick:l,style:{height:"32px","max-width":"74px",cursor:"pointer"}})]),_:1}),e(m,{style:{height:"35px",width:"35px",display:"none"},fill:"",round:"",icon:"shopping_cart",color:"secondary"}),e(y,{to:"/empresa/account",class:"cursor-pointer"},{default:a(()=>[e(q,{size:"42px",class:"q-ml-md"},{default:a(()=>[ye]),_:1})]),_:1})]),_:1})]),_:1}),e(de,{modelValue:t.value,"onUpdate:modelValue":d[1]||(d[1]=p=>t.value=p),"show-if-above":"",mini:!t.value||r.value,onClickCapture:A,width:214,breakpoint:700,bordered:"",class:Z(s.$q.dark.isActive?"bg-grey-9":"bg-grey-3")},{default:a(()=>[n("div",xe,[e(m,{dense:"",round:"",unelevated:"",color:"accent",icon:"chevron_left",onClick:d[0]||(d[0]=p=>r.value=!0)})]),e(ce,{style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:a(()=>[e(ie,{padding:""},{default:a(()=>[h(e(W,{inset:""},null,512),[[V,!r.value]]),h((b(),v(F,{clickable:"",to:"/empresa/account"},{default:a(()=>[e(g,{avatar:""},{default:a(()=>[e($,{name:"person"})]),_:1}),e(g,null,{default:a(()=>[C("Mi perfil")]),_:1})]),_:1})),[[M]]),h((b(),v(F,{clickable:"",to:"/empresa/orders"},{default:a(()=>[e(g,{avatar:""},{default:a(()=>[e($,{name:"receipt_long"})]),_:1}),e(g,null,{default:a(()=>[C("Ordenes")]),_:1})]),_:1})),[[M]])]),_:1}),n("div",{onClick:L,class:"row justify-center full-width full-height body-small"},[e(m,{icon:"power_settings_new",label:r.value?"":"Cerrar sesi\xF3n","text-color":"white",class:"body-small",style:{position:"absolute",bottom:"20px","background-color":"#ba1a1a"}},null,8,["label"])])]),_:1}),h(n("div",Qe,[n("div",Ce,[e(q,{size:"56px",class:"q-mb-sm"},{default:a(()=>[ke]),_:1}),n("div",Se," \xA1Hola, "+z(Q(o).name+" "+Q(o).last_name)+"! ",1),n("div",null,[n("p",Re,z(Q(o).email),1)])])],512),[[V,!r.value]])]),_:1},8,["modelValue","mini","class"]),e(re,{style:{background:"#f8fdff"}},{default:a(()=>[e(T)]),_:1}),e(ee,{modelValue:c.value,"onUpdate:modelValue":d[2]||(d[2]=p=>c.value=p),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(X,null,{default:a(()=>[e(we),e(Y,{align:"right",class:"text-primary"},{default:a(()=>[h(e(m,{flat:"",label:"Close"},null,512),[[he]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n("div",qe,[n("div",Ve,[e(pe,{color:"primary",icon:"keyboard_arrow_up",direction:"up"},{default:a(()=>[e(ue,{color:"primary",onClick:I},{default:a(()=>[$e]),_:1})]),_:1})])]),e(fe,{modelValue:s.tab,"onUpdate:modelValue":d[3]||(d[3]=p=>s.tab=p),style:{position:"fixed","z-index":"100",bottom:"0",width:"100%","border-radius":"16px 16px 0 0"},dense:"",class:"menuMobile bg-primary text-white justify-center",align:"justify-center","narrow-indicator":""},{default:a(()=>[e(y,{to:"/empresa/account",style:{"text-decoration":"none",color:"#ffff",width:"100%",margin:"none"}},{default:a(()=>[e(B,{name:"cuenta",label:"Cuenta",color:"white",class:"text-capitalize q-px-none",icon:"person"})]),_:1}),e(y,{to:"/empresa/orders",style:{"text-decoration":"none",color:"#ffff",width:"100%",margin:"none"}},{default:a(()=>[e(B,{name:"Ordenes",label:"Ordenes",color:"white",class:"text-capitalize q-px-none",icon:"receipt_long"})]),_:1})]),_:1},8,["modelValue"]),e(D,{showModal:u(),description:"Obten 5 d\xEDas de pueba con el plan free, y recibe ofertas especiales"},null,8,["showModal"]),e(D,{showModal:w(),description:"Renueva el plan, y recibe ofertas especiales"},null,8,["showModal"])]),_:1})}}};export{Ge as default};
