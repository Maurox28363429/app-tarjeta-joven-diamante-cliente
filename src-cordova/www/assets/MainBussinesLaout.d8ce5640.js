import{aI as y,aA as _,Y as E,a4 as e,l as v,cd as F,W as w,b3 as o,bs as d,cF as Q,Z as t,b5 as u,bp as k,cG as O,c5 as C,a3 as q,F as D,y as x,B as N,cH as $,cI as j,cz as P,cm as V}from"./index.c9293f23.js";import{Q as U}from"./QImg.4a346d5c.js";import{Q as G,a as W,_ as Y,b as Z,c as J,d as K}from"./acronimo.b79a1b01.js";import{a as R,Q as f}from"./QItemSection.16969999.js";import{Q as X}from"./QList.8381a563.js";import{Q as ee}from"./QScrollArea.0a9e0f27.js";import{Q as oe,a as ae,b as te,c as M,d as se,_ as z,e as le,f as B}from"./date.4bd44a7f.js";import{C as re}from"./ClosePopup.a01c158b.js";import{u as ne}from"./userAuth.bcca0822.js";import"./QScrollObserver.5cdbff59.js";import"./selection.8fbe6984.js";import"./format.a33550d6.js";import"./rtl.b51694b1.js";import"./index.360ce4ab.js";import"./axios.f1f32898.js";import"./useToast.e72ef980.js";import"./use-quasar.31ca9bf8.js";const ie={__name:"QRScanner",setup(I){const s=l=>{console.log("C\xF3digo QR escaneado:",l)},h=l=>{l.then(()=>{console.log("\xA1Listo para escanear!")}).catch(m=>{console.error("Error al inicializar el lector de QR:",m)})},i=()=>{console.log("C\xF3digo QR detectado.")},p=l=>{console.error("Error al escanear el c\xF3digo QR:",l)};return(l,m)=>{const g=y("qrcode-stream");return _(),E("div",null,[e(g,{onDecode:s,onInit:h,onDetect:i,onError:p})])}}};const ce=t("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),de={class:"q-mini-drawer-hide absolute",style:{top:"15px",right:"-17px","z-index":"20"}},ue={class:"absolute-top",style:{height:"150px"}},pe={class:"column items-center absolute-bottom bg-transparent"},me=t("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),fe={class:"text-weight-bold"},_e={style:{"text-overflow":"ellipsis",overflow:"hidden",width:"196px"}},he={class:"q-px-sm q-py-lg"},ge={class:"qrButton"},be=t("img",{src:le,style:{width:"24px",height:"24px"}},null,-1),Le={__name:"MainBussinesLaout",setup(I){const{user:s}=ne(),h=()=>{console.log("goHome"),p.push("/empresa")},i=v(!1),p=F(),l=v(!1),m=()=>{var a;return((a=s==null?void 0:s.membresia)==null?void 0:a.days)===1},g=()=>{var a;return B((a=s==null?void 0:s.membresia)==null?void 0:a.updated_at)===B(new Date)},r=v(!0),S=()=>{l.value=!l.value},A=a=>{a.preventDefault(),localStorage.removeItem("user"),p.push("/login")},L=()=>{i.value=!0,r.value=!r.value},H=a=>{r.value&&(r.value=!1,a.stopPropagation())};return(a,n)=>{const b=y("router-link"),T=y("router-view");return _(),w(K,{view:"hHh lpR fFf"},{default:o(()=>[e(Z,{class:"q-py-sm text-white",style:{height:"60px",background:"#f8fdff","box-shadow":`0px 1px 2px rgba(0, 0, 0, 0.3),\r
          0px 1px 3px 1px rgba(0, 0, 0, 0.15)`}},{default:o(()=>[e(G,{class:"row items-center"},{default:o(()=>[e(d,{class:"menu",dense:"",flat:"",round:"",icon:"menu",color:"dark",onClick:L}),e(W,{class:"row items-center"},{default:o(()=>[e(U,{src:Y,"spinner-color":"dark",onClick:h,style:{height:"32px","max-width":"74px",cursor:"pointer"}})]),_:1}),e(d,{style:{height:"35px",width:"35px",display:"none"},fill:"",round:"",icon:"shopping_cart",color:"secondary"}),e(b,{to:"/empresa/account",class:"cursor-pointer"},{default:o(()=>[e(Q,{size:"42px",class:"q-ml-md"},{default:o(()=>[ce]),_:1})]),_:1})]),_:1})]),_:1}),e(oe,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=c=>i.value=c),"show-if-above":"",mini:!i.value||r.value,onClickCapture:H,width:214,breakpoint:700,bordered:"",class:N(a.$q.dark.isActive?"bg-grey-9":"bg-grey-3")},{default:o(()=>[t("div",de,[e(d,{dense:"",round:"",unelevated:"",color:"accent",icon:"chevron_left",onClick:n[0]||(n[0]=c=>r.value=!0)})]),e(ee,{style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:o(()=>[e(X,{padding:""},{default:o(()=>[u(e(O,{inset:""},null,512),[[k,!r.value]]),u((_(),w(R,{clickable:"",to:"/empresa/account"},{default:o(()=>[e(f,{avatar:""},{default:o(()=>[e(C,{name:"person"})]),_:1}),e(f,null,{default:o(()=>[q("Mi perfil")]),_:1})]),_:1})),[[V]]),u((_(),w(R,{clickable:"",to:"/empresa/orders"},{default:o(()=>[e(f,{avatar:""},{default:o(()=>[e(C,{name:"receipt_long"})]),_:1}),e(f,null,{default:o(()=>[q("Ordenes")]),_:1})]),_:1})),[[V]])]),_:1}),t("div",{onClick:A,class:"row justify-center full-width full-height body-small"},[e(d,{icon:"power_settings_new",label:r.value?"":"Cerrar sesi\xF3n","text-color":"white",class:"body-small",style:{position:"absolute",bottom:"20px","background-color":"#ba1a1a"}},null,8,["label"])])]),_:1}),u(t("div",ue,[t("div",pe,[e(Q,{size:"56px",class:"q-mb-sm"},{default:o(()=>[me]),_:1}),t("div",fe," \xA1Hola, "+D(x(s).name+" "+x(s).last_name)+"! ",1),t("div",null,[t("p",_e,D(x(s).email),1)])])],512),[[k,!r.value]])]),_:1},8,["modelValue","mini","class"]),e(J,{style:{background:"#f8fdff"}},{default:o(()=>[e(T)]),_:1}),e(P,{modelValue:l.value,"onUpdate:modelValue":n[2]||(n[2]=c=>l.value=c),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[e($,null,{default:o(()=>[e(ie),e(j,{align:"right",class:"text-primary"},{default:o(()=>[u(e(d,{flat:"",label:"Close"},null,512),[[re]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t("div",he,[t("div",ge,[e(te,{color:"primary",icon:"keyboard_arrow_up",direction:"up"},{default:o(()=>[e(ae,{color:"primary",onClick:S},{default:o(()=>[be]),_:1})]),_:1})])]),e(se,{modelValue:a.tab,"onUpdate:modelValue":n[3]||(n[3]=c=>a.tab=c),style:{position:"fixed","z-index":"100",bottom:"0",width:"100%","border-radius":"16px 16px 0 0"},dense:"",class:"menuMobile bg-primary text-white justify-center",align:"justify-center","narrow-indicator":""},{default:o(()=>[e(b,{to:"/empresa/account",style:{"text-decoration":"none",color:"#ffff",width:"100%",margin:"none"}},{default:o(()=>[e(M,{name:"cuenta",label:"Cuenta",color:"white",class:"text-capitalize q-px-none",icon:"person"})]),_:1}),e(b,{to:"/empresa/orders",style:{"text-decoration":"none",color:"#ffff",width:"100%",margin:"none"}},{default:o(()=>[e(M,{name:"Ordenes",label:"Ordenes",color:"white",class:"text-capitalize q-px-none",icon:"receipt_long"})]),_:1})]),_:1},8,["modelValue"]),e(z,{showModal:g(),description:"Obten 5 d\xEDas de pueba con el plan free, y recibe ofertas especiales"},null,8,["showModal"]),e(z,{showModal:m(),description:"Renueva el plan, y recibe ofertas especiales"},null,8,["showModal"])]),_:1})}}};export{Le as default};
