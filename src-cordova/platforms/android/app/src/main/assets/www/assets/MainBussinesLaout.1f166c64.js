import{aI as C,aA as v,Y as T,a4 as e,bE as N,ah as R,cJ as _,V as S,ae as O,c1 as j,ab as K,cK as U,cL as G,cD as J,W as w,b3 as o,bs as h,a3 as k,l as x,cd as W,cF as q,Z as r,b5 as g,bp as $,cG as Y,c5 as D,F as V,y as Q,B as Z,cH as X,cI as ee,cz as oe,cm as z}from"./index.8e48f328.js";import{Q as ae}from"./QImg.25f50a71.js";import{Q as te,a as ne,_ as se,b as re,c as le,d as ie}from"./acronimo.430fecfe.js";import{a as I,Q as b}from"./QItemSection.6b0adf7b.js";import{Q as ce}from"./QList.2a41ee31.js";import{Q as de}from"./QScrollArea.b20044a6.js";import{Q as ue,a as pe,b as me,c as M,d as fe,_ as B,e as _e,f as F}from"./date.c7e3f7cc.js";import{C as he}from"./ClosePopup.636e8132.js";import{u as ge}from"./userAuth.b02c8feb.js";import"./QScrollObserver.064e37ca.js";import"./selection.7b291ae9.js";import"./format.a33550d6.js";import"./rtl.b51694b1.js";import"./index.360ce4ab.js";import"./axios.f1f32898.js";import"./useToast.20328f3e.js";import"./use-quasar.7c5cf8d6.js";const ve={__name:"QRScanner",setup(c){const t=n=>{console.log("C\xF3digo QR escaneado:",n)},l=n=>{n.then(()=>{console.log("\xA1Listo para escanear!")}).catch(m=>{console.error("Error al inicializar el lector de QR:",m)})},a=()=>{console.log("C\xF3digo QR detectado.")},p=n=>{console.error("Error al escanear el c\xF3digo QR:",n)};return(n,m)=>{const d=C("qrcode-stream");return v(),T("div",null,[e(d,{onDecode:t,onInit:l,onDetect:a,onError:p})])}}};var be=N({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(c,{slots:t}){const{proxy:{$q:l}}=K(),a=R(U,_);if(a===_)return console.error("QPage needs to be a deep child of QLayout"),_;if(R(G,_)===_)return console.error("QPage needs to be child of QPageContainer"),_;const n=S(()=>{const d=(a.header.space===!0?a.header.size:0)+(a.footer.space===!0?a.footer.size:0);if(typeof c.styleFn=="function"){const i=a.isContainer.value===!0?a.containerHeight.value:l.screen.height;return c.styleFn(d,i)}return{minHeight:a.isContainer.value===!0?a.containerHeight.value-d+"px":l.screen.height===0?d!==0?`calc(100vh - ${d}px)`:"100vh":l.screen.height-d+"px"}}),m=S(()=>`q-page${c.padding===!0?" q-layout-padding":""}`);return()=>O("main",{class:m.value,style:n.value},j(t.default))}});const we={methods:{startScan(){typeof window.cordova!="undefined"&&typeof window.QRScanner!="undefined"?window.QRScanner.prepare((c,t)=>{if(c){console.error(c);return}t.authorized?(window.QRScanner.show(),window.QRScanner.scan((l,a)=>{if(l){console.error(l);return}alert("Contenido del c\xF3digo QR: "+a),window.QRScanner.hide()})):t.denied?window.QRScanner.openSettings():console.log("No se pudo obtener el permiso")}):console.log("Cordova o QRScanner no est\xE1n definidos")}}};function ye(c,t,l,a,p,n){return v(),w(be,{class:"flex flex-center"},{default:o(()=>[e(h,{color:"primary",onClick:n.startScan},{default:o(()=>[k("Iniciar escaneo")]),_:1},8,["onClick"])]),_:1})}var xe=J(we,[["render",ye]]);const Qe=r("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),Ce={class:"q-mini-drawer-hide absolute",style:{top:"15px",right:"-17px","z-index":"20"}},ke={class:"absolute-top",style:{height:"150px"}},Re={class:"column items-center absolute-bottom bg-transparent"},Se=r("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),qe={class:"text-weight-bold"},$e={style:{"text-overflow":"ellipsis",overflow:"hidden",width:"196px"}},De={class:"q-px-sm q-py-lg"},Ve={class:"qrButton"},ze=r("img",{src:_e,style:{width:"24px",height:"24px"}},null,-1),We={__name:"MainBussinesLaout",setup(c){const{user:t}=ge(),l=()=>{console.log("goHome"),p.push("/empresa")},a=x(!1),p=W(),n=x(!1),m=()=>{var s;return((s=t==null?void 0:t.membresia)==null?void 0:s.days)===1},d=()=>{var s;return F((s=t==null?void 0:t.membresia)==null?void 0:s.updated_at)===F(new Date)},i=x(!0),H=()=>{n.value=!n.value},L=s=>{s.preventDefault(),localStorage.removeItem("user"),p.push("/login")},P=()=>{a.value=!0,i.value=!i.value},A=s=>{i.value&&(i.value=!1,s.stopPropagation())};return(s,u)=>{const y=C("router-link"),E=C("router-view");return v(),w(ie,{view:"hHh lpR fFf"},{default:o(()=>[e(re,{class:"q-py-sm text-white",style:{height:"60px",background:"#f8fdff","box-shadow":`0px 1px 2px rgba(0, 0, 0, 0.3),\r
          0px 1px 3px 1px rgba(0, 0, 0, 0.15)`}},{default:o(()=>[e(te,{class:"row items-center"},{default:o(()=>[e(h,{class:"menu",dense:"",flat:"",round:"",icon:"menu",color:"dark",onClick:P}),e(ne,{class:"row items-center"},{default:o(()=>[e(ae,{src:se,"spinner-color":"dark",onClick:l,style:{height:"32px","max-width":"74px",cursor:"pointer"}})]),_:1}),e(h,{style:{height:"35px",width:"35px",display:"none"},fill:"",round:"",icon:"shopping_cart",color:"secondary"}),e(y,{to:"/empresa/account",class:"cursor-pointer"},{default:o(()=>[e(q,{size:"42px",class:"q-ml-md"},{default:o(()=>[Qe]),_:1})]),_:1})]),_:1})]),_:1}),e(ue,{modelValue:a.value,"onUpdate:modelValue":u[1]||(u[1]=f=>a.value=f),"show-if-above":"",mini:!a.value||i.value,onClickCapture:A,width:214,breakpoint:700,bordered:"",class:Z(s.$q.dark.isActive?"bg-grey-9":"bg-grey-3")},{default:o(()=>[r("div",Ce,[e(h,{dense:"",round:"",unelevated:"",color:"accent",icon:"chevron_left",onClick:u[0]||(u[0]=f=>i.value=!0)})]),e(de,{style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:o(()=>[e(ce,{padding:""},{default:o(()=>[g(e(Y,{inset:""},null,512),[[$,!i.value]]),g((v(),w(I,{clickable:"",to:"/empresa/account"},{default:o(()=>[e(b,{avatar:""},{default:o(()=>[e(D,{name:"person"})]),_:1}),e(b,null,{default:o(()=>[k("Mi perfil")]),_:1})]),_:1})),[[z]]),g((v(),w(I,{clickable:"",to:"/empresa/orders"},{default:o(()=>[e(b,{avatar:""},{default:o(()=>[e(D,{name:"receipt_long"})]),_:1}),e(b,null,{default:o(()=>[k("Ordenes")]),_:1})]),_:1})),[[z]])]),_:1}),r("div",{onClick:L,class:"row justify-center full-width full-height body-small"},[e(h,{icon:"power_settings_new",label:i.value?"":"Cerrar sesi\xF3n","text-color":"white",class:"body-small",style:{position:"absolute",bottom:"20px","background-color":"#ba1a1a"}},null,8,["label"])])]),_:1}),g(r("div",ke,[r("div",Re,[e(q,{size:"56px",class:"q-mb-sm"},{default:o(()=>[Se]),_:1}),r("div",qe," \xA1Hola, "+V(Q(t).name+" "+Q(t).last_name)+"! ",1),r("div",null,[r("p",$e,V(Q(t).email),1)])])],512),[[$,!i.value]])]),_:1},8,["modelValue","mini","class"]),e(le,{style:{background:"#f8fdff"}},{default:o(()=>[e(E)]),_:1}),e(oe,{modelValue:n.value,"onUpdate:modelValue":u[2]||(u[2]=f=>n.value=f),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[e(X,null,{default:o(()=>[e(xe,{class:"cordova-only"}),e(ve,{class:"cordova-hide"}),e(ee,{align:"right",class:"text-primary"},{default:o(()=>[g(e(h,{flat:"",label:"Close"},null,512),[[he]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),r("div",De,[r("div",Ve,[e(me,{color:"primary",icon:"keyboard_arrow_up",direction:"up"},{default:o(()=>[e(pe,{color:"primary",onClick:H},{default:o(()=>[ze]),_:1})]),_:1})])]),e(fe,{modelValue:s.tab,"onUpdate:modelValue":u[3]||(u[3]=f=>s.tab=f),style:{position:"fixed","z-index":"100",bottom:"0",width:"100%","border-radius":"16px 16px 0 0"},dense:"",class:"menuMobile bg-primary text-white justify-center",align:"justify-center","narrow-indicator":""},{default:o(()=>[e(y,{to:"/empresa/account",style:{"text-decoration":"none",color:"#ffff",width:"100%",margin:"none"}},{default:o(()=>[e(M,{name:"cuenta",label:"Cuenta",color:"white",class:"text-capitalize q-px-none",icon:"person"})]),_:1}),e(y,{to:"/empresa/orders",style:{"text-decoration":"none",color:"#ffff",width:"100%",margin:"none"}},{default:o(()=>[e(M,{name:"Ordenes",label:"Ordenes",color:"white",class:"text-capitalize q-px-none",icon:"receipt_long"})]),_:1})]),_:1},8,["modelValue"]),e(B,{showModal:d(),description:"Obten 5 d\xEDas de pueba con el plan free, y recibe ofertas especiales"},null,8,["showModal"]),e(B,{showModal:m(),description:"Renueva el plan, y recibe ofertas especiales"},null,8,["showModal"])]),_:1})}}};export{We as default};
