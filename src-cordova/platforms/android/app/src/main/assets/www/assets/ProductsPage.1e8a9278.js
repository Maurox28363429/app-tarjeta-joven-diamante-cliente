import{l as c,a_ as y,au as q,aA as f,Y as _,Z as i,a4 as a,b3 as e,c5 as d,bR as x,J as w,aG as P,cE as Q,a3 as s,F as u,cH as k}from"./index.bc56f532.js";import{a as V,Q as m}from"./QItemSection.cb82ea39.js";import{Q as p}from"./QItemLabel.3462d78a.js";import{Q as I}from"./QList.f0d7fa4c.js";import{Q as j}from"./QPagination.c672be44.js";import{i as B}from"./index.c95671fa.js";import{u as C}from"./userAuth.6286df95.js";import"./format.a33550d6.js";import"./axios.f1f32898.js";import"./useToast.b98563ff.js";import"./use-quasar.bafd3b26.js";const L=i("p",{class:"q-ml-lg q-mt-lg title-large"},"Ofertas",-1),N={class:"full-width full-height row justify-center q-mt-lg"},S={class:"full-width full-height row wrap q-gutter-lg justify-center q-my-lg"},U=["src"],A={class:"full-width full-height row wrap q-gutter-lg justify-center q-my-lg"},$={__name:"ProductsPage",setup(D){const{user:b}=C();console.log(b);const n=c(1),h=c(0),v=c([]),o=c("");y(n,async l=>{await g()}),y(o,async l=>{await g()});function g(){B.get("/comercio-ofertas?with[]=comercio&nombre="+o.value+"&page="+n.value).then(l=>{console.log(l.data),v.value=l.data.data,h.value=l.data.pagination.lastPage,n.value=l.data.pagination.currentPage}).catch(l=>{console.log(l)})}return q(async()=>{await g()}),(l,r)=>(f(),_(w,null,[L,i("div",N,[a(x,{modelValue:o.value,"onUpdate:modelValue":r[1]||(r[1]=t=>o.value=t),outlined:"",type:"search",label:"Buscar ofertas",color:"primary"},{append:e(()=>[a(d,{name:"search",modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=t=>o.value=t)},null,8,["modelValue"])]),_:1},8,["modelValue"])]),i("div",S,[(f(!0),_(w,null,P(v.value,t=>(f(),_("div",{style:{"min-height":"250px",width:"250px"},key:t.id},[a(k,{class:"my-card"},{default:e(()=>[i("img",{src:t.img_array_url[0]?t.img_array_url[0]:"https://cdn.quasar.dev/img/mountains.jpg"},null,8,U),a(Q,null,{default:e(()=>[a(I,null,{default:e(()=>[a(V,{clickable:""},{default:e(()=>[a(m,{avatar:""},{default:e(()=>[a(d,{color:"primary",name:"add_shopping_cart"})]),_:1}),a(m,null,{default:e(()=>[a(p,null,{default:e(()=>[s(u(t.nombre),1)]),_:2},1024),a(p,{caption:""},{default:e(()=>[a(d,{color:"primary",name:"add_shopping_cart"}),s(" "+u(t.comercio.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(V,{clickable:""},{default:e(()=>[a(m,{avatar:""},{default:e(()=>[a(d,{color:"red",name:"sell"})]),_:1}),a(m,null,{default:e(()=>[a(p,null,{default:e(()=>[s(u(t.price_total)+" $",1)]),_:2},1024),a(p,{caption:""},{default:e(()=>[s("Descuento"+u(t.descuento)+" %",1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(Q,{class:"q-pt-none"},{default:e(()=>[s(u(t.description),1)]),_:2},1024)]),_:2},1024)]))),128))]),i("div",A,[a(j,{style:{"margin-top":"1em"},modelValue:n.value,"onUpdate:modelValue":r[2]||(r[2]=t=>n.value=t),max:h.value,"boundary-numbers":""},null,8,["modelValue","max"])])],64))}};export{$ as default};
