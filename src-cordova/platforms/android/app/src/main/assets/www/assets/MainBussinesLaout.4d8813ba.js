import{l as g,au as T,aI as Q,aA as m,Y as k,a4 as e,bs as u,X as $,Z as s,ce as N,W as x,b3 as o,cG as C,b5 as p,bp as q,cH as O,c5 as V,a3 as D,F as M,y,B as j,cI as F,cJ as U,cA as G,cn as R}from"./index.a4f72fbe.js";import{Q as J}from"./QImg.78d13551.js";import{Q as W,a as X,_ as Y,b as Z,c as K,d as ee}from"./acronimo.a5356a8f.js";import{a as A,Q as h}from"./QItemSection.fa7ab13d.js";import{Q as oe}from"./QList.0845b604.js";import{Q as ae}from"./QScrollArea.821bb0e1.js";import{Q as te,a as se,b as re,c as B,d as le,_ as I,e as ne,f as P}from"./date.478c0e8e.js";import{C as ie}from"./ClosePopup.62ab0cc5.js";import{u as ce}from"./userAuth.59b6eac0.js";import"./QScrollObserver.4545808a.js";import"./selection.1b1883d3.js";import"./format.a33550d6.js";import"./rtl.b51694b1.js";import"./index.360ce4ab.js";import"./axios.f1f32898.js";import"./useToast.94c021fd.js";import"./use-quasar.f2aa822b.js";const de={key:0,class:"full-width full-height justify-center items-center"},ue=s("p",{class:"title-large"},"Activa los permisos para la camara",-1),pe={__name:"QRScanner",setup(z){const a=g(!0);function f(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.permissions&&window.cordova.plugins.permissions.requestPermission(window.cordova.plugins.permissions.CAMERA,function(l){l.hasPermission?(console.log("Permiso de c\xE1mara concedido"),a.value=!0):(console.warn("Permiso de c\xE1mara denegado"),a.value=!1)},function(){console.error("Error al solicitar el permiso de c\xE1mara"),a.value=!1})}T(()=>{f()});const i=l=>{console.log("C\xF3digo QR escaneado:",l)},_=l=>{l.then(()=>{console.log("\xA1Listo para escanear!"),a.value=!0}).catch(r=>{console.error("Error al inicializar el lector de QR:",r),a.value=!1})},c=()=>{console.log("C\xF3digo QR detectado.")},v=l=>{console.error("Error al escanear el c\xF3digo QR:",l)};return(l,r)=>{const b=Q("qrcode-stream");return m(),k("div",null,[e(b,{onDecode:i,onInit:_,onDetect:c,onError:v}),a.value?$("",!0):(m(),k("div",de,[ue,e(u,{class:"condova-only",color:"primary",label:"Pedir permisos",onClick:f})]))])}}};const me=s("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),fe={class:"q-mini-drawer-hide absolute",style:{top:"15px",right:"-17px","z-index":"20"}},_e={class:"absolute-top",style:{height:"150px"}},he={class:"column items-center absolute-bottom bg-transparent"},ge=s("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),ve={class:"text-weight-bold"},be={style:{"text-overflow":"ellipsis",overflow:"hidden",width:"196px"}},we={class:"q-px-sm q-py-lg"},xe={class:"qrButton"},ye=s("img",{src:ne,style:{width:"24px",height:"24px"}},null,-1),Te={__name:"MainBussinesLaout",setup(z){const{user:a}=ce(),f=()=>{console.log("goHome"),_.push("/empresa")},i=g(!1),_=N(),c=g(!1),v=()=>{var t;return((t=a==null?void 0:a.membresia)==null?void 0:t.days)===1},l=()=>{var t;return P((t=a==null?void 0:a.membresia)==null?void 0:t.updated_at)===P(new Date)},r=g(!0),b=()=>{c.value=!c.value},S=t=>{t.preventDefault(),localStorage.removeItem("user"),_.push("/login")},E=()=>{i.value=!0,r.value=!r.value},L=t=>{r.value&&(r.value=!1,t.stopPropagation())};return(t,n)=>{const w=Q("router-link"),H=Q("router-view");return m(),x(ee,{view:"hHh lpR fFf"},{default:o(()=>[e(Z,{class:"q-py-sm text-white",style:{height:"60px",background:"#f8fdff","box-shadow":`0px 1px 2px rgba(0, 0, 0, 0.3),\r
          0px 1px 3px 1px rgba(0, 0, 0, 0.15)`}},{default:o(()=>[e(W,{class:"row items-center"},{default:o(()=>[e(u,{class:"menu",dense:"",flat:"",round:"",icon:"menu",color:"dark",onClick:E}),e(X,{class:"row items-center"},{default:o(()=>[e(J,{src:Y,"spinner-color":"dark",onClick:f,style:{height:"32px","max-width":"74px",cursor:"pointer"}})]),_:1}),e(u,{style:{height:"35px",width:"35px",display:"none"},fill:"",round:"",icon:"shopping_cart",color:"secondary"}),e(w,{to:"/empresa/account",class:"cursor-pointer"},{default:o(()=>[e(C,{size:"42px",class:"q-ml-md"},{default:o(()=>[me]),_:1})]),_:1})]),_:1})]),_:1}),e(te,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=d=>i.value=d),"show-if-above":"",mini:!i.value||r.value,onClickCapture:L,width:214,breakpoint:700,bordered:"",class:j(t.$q.dark.isActive?"bg-grey-9":"bg-grey-3")},{default:o(()=>[s("div",fe,[e(u,{dense:"",round:"",unelevated:"",color:"accent",icon:"chevron_left",onClick:n[0]||(n[0]=d=>r.value=!0)})]),e(ae,{style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:o(()=>[e(oe,{padding:""},{default:o(()=>[p(e(O,{inset:""},null,512),[[q,!r.value]]),p((m(),x(A,{clickable:"",to:"/empresa/account"},{default:o(()=>[e(h,{avatar:""},{default:o(()=>[e(V,{name:"person"})]),_:1}),e(h,null,{default:o(()=>[D("Mi perfil")]),_:1})]),_:1})),[[R]]),p((m(),x(A,{clickable:"",to:"/empresa/orders"},{default:o(()=>[e(h,{avatar:""},{default:o(()=>[e(V,{name:"receipt_long"})]),_:1}),e(h,null,{default:o(()=>[D("Ordenes")]),_:1})]),_:1})),[[R]])]),_:1}),s("div",{onClick:S,class:"row justify-center full-width full-height body-small"},[e(u,{icon:"power_settings_new",label:r.value?"":"Cerrar sesi\xF3n","text-color":"white",class:"body-small",style:{position:"absolute",bottom:"20px","background-color":"#ba1a1a"}},null,8,["label"])])]),_:1}),p(s("div",_e,[s("div",he,[e(C,{size:"56px",class:"q-mb-sm"},{default:o(()=>[ge]),_:1}),s("div",ve," \xA1Hola, "+M(y(a).name+" "+y(a).last_name)+"! ",1),s("div",null,[s("p",be,M(y(a).email),1)])])],512),[[q,!r.value]])]),_:1},8,["modelValue","mini","class"]),e(K,{style:{background:"#f8fdff"}},{default:o(()=>[e(H)]),_:1}),e(G,{modelValue:c.value,"onUpdate:modelValue":n[2]||(n[2]=d=>c.value=d),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[e(F,null,{default:o(()=>[e(pe),e(U,{align:"right",class:"text-primary"},{default:o(()=>[p(e(u,{flat:"",label:"Close"},null,512),[[ie]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s("div",we,[s("div",xe,[e(re,{color:"primary",icon:"keyboard_arrow_up",direction:"up"},{default:o(()=>[e(se,{color:"primary",onClick:b},{default:o(()=>[ye]),_:1})]),_:1})])]),e(le,{modelValue:t.tab,"onUpdate:modelValue":n[3]||(n[3]=d=>t.tab=d),style:{position:"fixed","z-index":"100",bottom:"0",width:"100%","border-radius":"16px 16px 0 0"},dense:"",class:"menuMobile bg-primary text-white justify-center",align:"justify-center","narrow-indicator":""},{default:o(()=>[e(w,{to:"/empresa/account",style:{"text-decoration":"none",color:"#ffff",width:"100%",margin:"none"}},{default:o(()=>[e(B,{name:"cuenta",label:"Cuenta",color:"white",class:"text-capitalize q-px-none",icon:"person"})]),_:1}),e(w,{to:"/empresa/orders",style:{"text-decoration":"none",color:"#ffff",width:"100%",margin:"none"}},{default:o(()=>[e(B,{name:"Ordenes",label:"Ordenes",color:"white",class:"text-capitalize q-px-none",icon:"receipt_long"})]),_:1})]),_:1},8,["modelValue"]),e(I,{showModal:l(),description:"Obten 5 d\xEDas de pueba con el plan free, y recibe ofertas especiales"},null,8,["showModal"]),e(I,{showModal:v(),description:"Renueva el plan, y recibe ofertas especiales"},null,8,["showModal"])]),_:1})}}};export{Te as default};
