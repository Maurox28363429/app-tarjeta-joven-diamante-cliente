<<<<<<<< HEAD:src-cordova/platforms/android/app/src/main/assets/www/assets/MainBussinesLaout.efa49029.js
import{ce as T,l as g,au as O,aI as A,aA as v,Y as L,a4 as e,bs as _,X as S,Z as s,W as b,b3 as o,cG as z,b5 as m,bp as I,cH as j,c5 as k,a3 as q,F as P,y as M,B as N,cI as F,cJ as U,cA as W,cn as V}from"./index.30f6a082.js";import{Q as G}from"./QImg.805f72db.js";import{Q as J,a as X,_ as Y,b as Z,c as K,d as ee}from"./acronimo.7c5e0f2e.js";import{a as D,Q as f}from"./QItemSection.e5fa1863.js";import{Q as oe}from"./QList.95cf641a.js";import{Q as ae}from"./QScrollArea.8f74de1c.js";import{Q as te,a as se,b as le,c as R,d as re,_ as B,e as ne,f as E}from"./date.fba8fd4e.js";import{C as ie}from"./ClosePopup.d46efc9d.js";import{Q as ce}from"./QInnerLoading.faf9b563.js";import{u as de}from"./useToast.a57f6721.js";import{u as ue}from"./userCart.afb4f77b.js";import{u as pe}from"./userAuth.2f3f2794.js";import"./QScrollObserver.07cb4e62.js";import"./selection.a13f7bd0.js";import"./format.a33550d6.js";import"./rtl.b51694b1.js";import"./index.360ce4ab.js";import"./axios.f1f32898.js";const me={key:0,class:"full-width full-height column justify-center items-center"},fe=s("p",{class:"title-medium"},"Activa los permisos para la camara",-1),_e={__name:"QRScanner",props:{closeModal:{type:Object}},emits:["close-modal"],setup($,{emit:r}){const w=T(),d=ue(),u=g(!1),n=g(!1),i=g(!0),{triggerWarning:h}=de();function l(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.permissions&&window.cordova.plugins.permissions.requestPermission(window.cordova.plugins.permissions.CAMERA,function(a){a.hasPermission?(console.log("Permiso de c\xE1mara concedido"),i.value=!0):(console.warn("Permiso de c\xE1mara denegado"),h("Los permisos para la camara estan desactivados"),i.value=!1)},function(){console.error("Error al solicitar el permiso de c\xE1mara"),h("Los permisos para la camara estan desactivados"),i.value=!1})}O(()=>{l()});const x=async a=>{console.log("C\xF3digo QR escaneado:",a),n.value=!0;try{console.log(a,"code");const t=await d.setClient(a);console.log("Cliente asignado:",t),w.push("/empresa/create-order"),r("close-modal")}catch(t){console.error("Error al asignar el cliente:",t)}finally{n.value=!1}},y=a=>{u.value=!0,a.then(()=>{console.log("\xA1Listo para escanear!"),i.value=!0}).catch(t=>{console.error("Error al inicializar el lector de QR:",t),h("Los permisos para la camara estan desactivados"),i.value=!1}).finally(()=>{u.value=!1})},Q=()=>{console.log("C\xF3digo QR detectado.")},C=a=>{console.error("Error al escanear el c\xF3digo QR:",a)};return(a,t)=>{const p=A("qrcode-stream");return v(),L("div",null,[e(p,{onDecode:x,onInit:y,onDetect:Q,onError:C}),e(ce,{showing:u.value||n.value,label:"Por favor espera...","label-class":"text-teal","label-style":"font-size: 1.1em"},null,8,["showing"]),i.value?S("",!0):(v(),L("div",me,[fe,e(_,{class:"cordova-only",color:"primary",label:"Pedir permisos",onClick:l})]))])}}};const ve=s("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),ge={class:"q-mini-drawer-hide absolute",style:{top:"15px",right:"-17px","z-index":"20"}},he={class:"absolute-top",style:{height:"150px"}},be={class:"column items-center absolute-bottom bg-transparent"},we=s("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),xe={class:"text-weight-bold"},ye={class:"text-center",style:{"text-overflow":"ellipsis",overflow:"hidden",width:"196px"}},Qe={class:"q-px-sm q-py-lg"},Ce={class:"qrButton"},ke=s("img",{src:ne,style:{width:"24px",height:"24px"}},null,-1),Ne={__name:"MainBussinesLaout",setup($){const{user:r}=pe(),w=()=>{console.log("goHome"),u.push("/empresa")},d=g(!1),u=T(),n=g(!1),i=()=>{var a;return((a=r==null?void 0:r.membresia)==null?void 0:a.days)===1},h=()=>{var a;return E((a=r==null?void 0:r.membresia)==null?void 0:a.updated_at)===E(new Date)},l=g(!0),x=()=>{n.value=!n.value},y=a=>{a.preventDefault(),localStorage.removeItem("user"),u.push("/login")},Q=()=>{d.value=!0,l.value=!l.value},C=a=>{l.value&&(l.value=!1,a.stopPropagation())};return(a,t)=>{const p=A("router-link"),H=A("router-view");return v(),b(ee,{view:"hHh lpR fFf"},{default:o(()=>[e(Z,{class:"q-py-sm text-white",style:{height:"60px",background:"#f8fdff","box-shadow":`0px 1px 2px rgba(0, 0, 0, 0.3),\r
========
import{ce as T,l as g,au as O,aI as A,aA as v,Y as L,a4 as e,bs as _,X as S,Z as s,W as b,b3 as o,cG as z,b5 as m,bp as I,cH as j,c5 as k,a3 as q,F as P,y as M,B as N,cI as F,cJ as U,cA as W,cn as V}from"./index.f2854204.js";import{Q as G}from"./QImg.6e5581d1.js";import{Q as J,a as X,_ as Y,b as Z,c as K,d as ee}from"./acronimo.3aad1e2f.js";import{a as D,Q as f}from"./QItemSection.7aeaf6f8.js";import{Q as oe}from"./QList.44c51499.js";import{Q as ae}from"./QScrollArea.b31eb4dd.js";import{Q as te,a as se,b as le,c as R,d as re,_ as B,e as ne,f as E}from"./date.573301e0.js";import{C as ie}from"./ClosePopup.8a271a9b.js";import{Q as ce}from"./QInnerLoading.91a81652.js";import{u as de}from"./useToast.2a507564.js";import{u as ue}from"./userCart.0d68326e.js";import{u as pe}from"./userAuth.958f8d0b.js";import"./QScrollObserver.0de65ed8.js";import"./selection.e1440f78.js";import"./format.a33550d6.js";import"./rtl.b51694b1.js";import"./index.360ce4ab.js";import"./axios.f1f32898.js";const me={key:0,class:"full-width full-height column justify-center items-center"},fe=s("p",{class:"title-medium"},"Activa los permisos para la camara",-1),_e={__name:"QRScanner",props:{closeModal:{type:Object}},emits:["close-modal"],setup($,{emit:r}){const w=T(),d=ue(),u=g(!1),n=g(!1),i=g(!0),{triggerWarning:h}=de();function l(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.permissions&&window.cordova.plugins.permissions.requestPermission(window.cordova.plugins.permissions.CAMERA,function(a){a.hasPermission?(console.log("Permiso de c\xE1mara concedido"),i.value=!0):(console.warn("Permiso de c\xE1mara denegado"),h("Los permisos para la camara estan desactivados"),i.value=!1)},function(){console.error("Error al solicitar el permiso de c\xE1mara"),h("Los permisos para la camara estan desactivados"),i.value=!1})}O(()=>{l()});const x=async a=>{console.log("C\xF3digo QR escaneado:",a),n.value=!0;try{console.log(a,"code");const t=await d.setClient(a);console.log("Cliente asignado:",t),w.push("/empresa/create-order"),r("close-modal")}catch(t){console.error("Error al asignar el cliente:",t)}finally{n.value=!1}},y=a=>{u.value=!0,a.then(()=>{console.log("\xA1Listo para escanear!"),i.value=!0}).catch(t=>{console.error("Error al inicializar el lector de QR:",t),h("Los permisos para la camara estan desactivados"),i.value=!1}).finally(()=>{u.value=!1})},Q=()=>{console.log("C\xF3digo QR detectado.")},C=a=>{console.error("Error al escanear el c\xF3digo QR:",a)};return(a,t)=>{const p=A("qrcode-stream");return v(),L("div",null,[e(p,{onDecode:x,onInit:y,onDetect:Q,onError:C}),e(ce,{showing:u.value||n.value,label:"Por favor espera...","label-class":"text-teal","label-style":"font-size: 1.1em"},null,8,["showing"]),i.value?S("",!0):(v(),L("div",me,[fe,e(_,{class:"cordova-only",color:"primary",label:"Pedir permisos",onClick:l})]))])}}};const ve=s("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),ge={class:"q-mini-drawer-hide absolute",style:{top:"15px",right:"-17px","z-index":"20"}},he={class:"absolute-top",style:{height:"150px"}},be={class:"column items-center absolute-bottom bg-transparent"},we=s("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),xe={class:"text-weight-bold"},ye={class:"text-center",style:{"text-overflow":"ellipsis",overflow:"hidden",width:"196px"}},Qe={class:"q-px-sm q-py-lg"},Ce={class:"qrButton"},ke=s("img",{src:ne,style:{width:"24px",height:"24px"}},null,-1),Ne={__name:"MainBussinesLaout",setup($){const{user:r}=pe(),w=()=>{console.log("goHome"),u.push("/empresa")},d=g(!1),u=T(),n=g(!1),i=()=>{var a;return((a=r==null?void 0:r.membresia)==null?void 0:a.days)===1},h=()=>{var a;return E((a=r==null?void 0:r.membresia)==null?void 0:a.updated_at)===E(new Date)},l=g(!0),x=()=>{n.value=!n.value},y=a=>{a.preventDefault(),localStorage.removeItem("user"),u.push("/login")},Q=()=>{d.value=!0,l.value=!l.value},C=a=>{l.value&&(l.value=!1,a.stopPropagation())};return(a,t)=>{const p=A("router-link"),H=A("router-view");return v(),b(ee,{view:"hHh lpR fFf"},{default:o(()=>[e(Z,{class:"q-py-sm text-white",style:{height:"60px",background:"#f8fdff","box-shadow":`0px 1px 2px rgba(0, 0, 0, 0.3),\r
>>>>>>>> 47a9a8022cb0f4816a001afef8ac198d789b514b:src-cordova/platforms/android/app/src/main/assets/www/assets/MainBussinesLaout.3648d7b9.js
          0px 1px 3px 1px rgba(0, 0, 0, 0.15)`}},{default:o(()=>[e(J,{class:"row items-center"},{default:o(()=>[e(_,{class:"menu",dense:"",flat:"",round:"",icon:"menu",color:"dark",onClick:Q}),e(X,{class:"row items-center"},{default:o(()=>[e(G,{src:Y,"spinner-color":"dark",onClick:w,style:{height:"32px","max-width":"74px",cursor:"pointer"}})]),_:1}),e(_,{style:{height:"35px",width:"35px",display:"none"},fill:"",round:"",icon:"shopping_cart",color:"secondary"}),e(p,{to:"/empresa/account",class:"cursor-pointer"},{default:o(()=>[e(z,{size:"42px",class:"q-ml-md"},{default:o(()=>[ve]),_:1})]),_:1})]),_:1})]),_:1}),e(te,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=c=>d.value=c),"show-if-above":"",mini:!d.value||l.value,onClickCapture:C,width:214,breakpoint:700,bordered:"",class:N(a.$q.dark.isActive?"bg-grey-9":"bg-grey-3")},{default:o(()=>[s("div",ge,[e(_,{dense:"",round:"",unelevated:"",color:"accent",icon:"chevron_left",onClick:t[0]||(t[0]=c=>l.value=!0)})]),e(ae,{style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:o(()=>[e(oe,{padding:""},{default:o(()=>[m(e(j,{inset:""},null,512),[[I,!l.value]]),m((v(),b(D,{clickable:"",to:"/empresa/account"},{default:o(()=>[e(f,{avatar:""},{default:o(()=>[e(k,{name:"person"})]),_:1}),e(f,null,{default:o(()=>[q("Mi perfil")]),_:1})]),_:1})),[[V]]),m((v(),b(D,{clickable:"",to:"/empresa/orders"},{default:o(()=>[e(f,{avatar:""},{default:o(()=>[e(k,{name:"receipt_long"})]),_:1}),e(f,null,{default:o(()=>[q("Ordenes")]),_:1})]),_:1})),[[V]]),m((v(),b(D,{clickable:"",to:"/empresa/create-order"},{default:o(()=>[e(f,{avatar:""},{default:o(()=>[e(k,{name:"border_color"})]),_:1}),e(f,null,{default:o(()=>[q("Crear orden")]),_:1})]),_:1})),[[V]])]),_:1}),s("div",{onClick:y,class:"row justify-center full-width full-height body-small"},[e(_,{icon:"power_settings_new",label:l.value?"":"Cerrar sesi\xF3n","text-color":"white",class:"body-small",style:{position:"absolute",bottom:"20px","background-color":"#ba1a1a"}},null,8,["label"])])]),_:1}),m(s("div",he,[s("div",be,[e(z,{size:"56px",class:"q-mb-sm"},{default:o(()=>[we]),_:1}),s("div",xe," \xA1Hola, "+P(M(r).name+" "+M(r).last_name)+"! ",1),s("div",null,[s("p",ye,P(M(r).email),1)])])],512),[[I,!l.value]])]),_:1},8,["modelValue","mini","class"]),e(K,{style:{background:"#f8fdff"}},{default:o(()=>[e(H)]),_:1}),e(W,{modelValue:n.value,"onUpdate:modelValue":t[3]||(t[3]=c=>n.value=c),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[e(F,null,{default:o(()=>[e(_e,{"close-modal":n.value,onCloseModal:t[2]||(t[2]=c=>n.value=!1)},null,8,["close-modal"]),e(U,{align:"right",class:"text-primary"},{default:o(()=>[m(e(_,{flat:"",label:"Close"},null,512),[[ie]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s("div",Qe,[s("div",Ce,[e(le,{color:"primary",icon:"keyboard_arrow_up",direction:"up"},{default:o(()=>[e(se,{color:"primary",onClick:x},{default:o(()=>[ke]),_:1})]),_:1})])]),e(re,{modelValue:a.tab,"onUpdate:modelValue":t[4]||(t[4]=c=>a.tab=c),style:{position:"fixed","z-index":"100",bottom:"0",width:"100%"},dense:"",class:"menuMobile bg-primary text-white justify-center",align:"justify-center","narrow-indicator":""},{default:o(()=>[e(p,{to:"/empresa/account",style:{"text-decoration":"none",color:"#ffff",width:"100%",margin:"none"}},{default:o(()=>[e(R,{name:"cuenta",label:"Cuenta",color:"white",class:"text-capitalize q-px-none",icon:"person"})]),_:1}),e(p,{to:"/empresa/orders",style:{"text-decoration":"none",color:"#ffff",width:"100%",margin:"none"}},{default:o(()=>[e(R,{name:"Ordenes",label:"Ordenes",color:"white",class:"text-capitalize q-px-none",icon:"receipt_long"})]),_:1}),e(p,{to:"/empresa/create-order",style:{"text-decoration":"none",color:"#ffff",width:"100%",margin:"none"}},{default:o(()=>[e(R,{name:"crear order",label:"Crear orden",color:"white",class:"text-capitalize q-px-none",icon:"border_color"})]),_:1})]),_:1},8,["modelValue"]),e(B,{showModal:h(),description:"Obten 5 d\xEDas de pueba con el plan free, y recibe ofertas especiales"},null,8,["showModal"]),e(B,{showModal:i(),description:"Renueva el plan, y recibe ofertas especiales"},null,8,["showModal"])]),_:1})}}};export{Ne as default};
